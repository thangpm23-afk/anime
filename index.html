<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Anime Card Class ‚Äî EXP & Stats</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 900px; margin: 20px auto; display: flex; flex-direction: column; }
  h2 { margin-bottom: 10px; }
  .container { display: flex; gap: 20px; flex-wrap: wrap; }
  .box { flex: 1 1 400px; border: 1px solid #999; padding: 15px; border-radius: 8px; background: #f9f9f9; }
  label { display: inline-block; width: 130px; margin-top: 5px; }
  input { width: 100px; padding: 5px; margin: 5px 0; }
  button { padding: 7px 15px; margin: 10px 0; }
  pre { background: #eee; padding: 10px; border-radius: 5px; }
</style>
</head>
<body>

<h1>Anime Card Class ‚Äî EXP & Stats</h1>

<div class="container">

  <!-- EXP Box -->
  <div class="box">
    <h2>T√≠nh EXP & S·ª≠ d·ª•ng S√°ch</h2>
    <label>C·∫•p b·∫Øt ƒë·∫ßu:</label> <input type="number" id="startLevel" value="0"><br>
    <label>C·∫•p k·∫øt th√∫c:</label> <input type="number" id="endLevel" value="10"><br><br>

    <h3>S√°ch b·∫°n c√≥:</h3>
    <label>50 EXP:</label> <input type="number" id="book50" value="0"><br>
    <label>100 EXP:</label> <input type="number" id="book100" value="0"><br>
    <label>250 EXP:</label> <input type="number" id="book250" value="0"><br>
    <label>500 EXP:</label> <input type="number" id="book500" value="0"><br>
    <label>1000 EXP:</label> <input type="number" id="book1000" value="0"><br><br>

    <button onclick="calculateEXP()">T√≠nh EXP & S·ªë s√°ch</button>
    <h3 id="result"></h3>
    <h3 id="usedBooks"></h3>
  </div>

  <!-- Stats Box -->
  <div class="box">
    <h2>Ch·ªâ s·ªë Nh√¢n V·∫≠t Theo Tier</h2>
    <label>DMG c∆° b·∫£n:</label> <input type="number" id="basicDmg" value="10"><br>
    <label>HP c∆° b·∫£n:</label> <input type="number" id="basicHp" value="100"><br>
    <label>C·∫•p hi·ªán t·∫°i:</label> <input type="number" id="level" value="1" min="1"><br>
    <button onclick="calcStats()">T√≠nh ch·ªâ s·ªë</button>
    <pre id="resultStats"></pre>
  </div>

</div>

<script>
// === T√≠nh EXP & s√°ch ===
function calculateEXP() {
    const start = parseInt(document.getElementById('startLevel').value);
    const end = parseInt(document.getElementById('endLevel').value);
    if (isNaN(start) || isNaN(end) || end <= start) {
        document.getElementById('result').innerText = "Vui l√≤ng nh·∫≠p c·∫•p h·ª£p l·ªá (c·∫•p k·∫øt th√∫c > c·∫•p b·∫Øt ƒë·∫ßu).";
        return;
    }

    let totalEXP = 0;
    for (let i = start + 1; i <= end; i++) totalEXP += i * 100;
    document.getElementById('result').innerText = `T·ªïng EXP t·ª´ c·∫•p ${start} ‚Üí ${end}: ${totalEXP.toLocaleString()} EXP`;

    let books = [
        {exp: 1000, count: parseInt(document.getElementById('book1000').value)},
        {exp: 500, count: parseInt(document.getElementById('book500').value)},
        {exp: 250, count: parseInt(document.getElementById('book250').value)},
        {exp: 100, count: parseInt(document.getElementById('book100').value)},
        {exp: 50, count: parseInt(document.getElementById('book50').value)}
    ];

    let expLeft = totalEXP;
    let usedBooks = [];

    for (let book of books) {
        let use = Math.min(Math.floor(expLeft / book.exp), book.count);
        expLeft -= use * book.exp;
        usedBooks.push(`${use} cu·ªën ${book.exp} EXP`);
    }

    let resultText = `S·ª≠ d·ª•ng s√°ch:\n` + usedBooks.join(', ');
    if (expLeft > 0) resultText += `\nC√≤n thi·∫øu: ${expLeft} EXP`;

    document.getElementById('usedBooks').innerText = resultText;
}

// === T√≠nh Stats theo Tier ===
function calcStats() {
    let dmg = parseFloat(document.getElementById("basicDmg").value);
    let hp  = parseFloat(document.getElementById("basicHp").value);
    let level = parseInt(document.getElementById("level").value);
    if (level < 1) level = 1;

    let multiplier = Math.pow(1 + 0.0125, level - 1); // tƒÉng 1.25%/c·∫•p
    let basicDmgLevel = Math.round(dmg * multiplier);
    let basicHpLevel  = Math.round(hp * multiplier);

    let goldDmg    = basicDmgLevel * 4;
    let goldHp     = basicHpLevel * 4;
    let rainbowDmg = goldDmg * 4;
    let rainbowHp  = goldHp * 4;
    let secretDmg  = rainbowDmg * 4;
    let secretHp   = rainbowHp * 4;

    document.getElementById("resultStats").innerText =
`üìå Basic ‚Üí DMG: ${basicDmgLevel}, HP: ${basicHpLevel}
‚ú® Gold ‚Üí DMG: ${goldDmg}, HP: ${goldHp}
üåà Rainbow ‚Üí DMG: ${rainbowDmg}, HP: ${rainbowHp}
üî• Secret ‚Üí DMG: ${secretDmg}, HP: ${secretHp}`;
}
</script>

</body>
</html>
